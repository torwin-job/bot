# Telegram Bot CRM

## Описание

Это Telegram-бот для автоматизации сбора заявок на услуги, с удобной админ-панелью на Django. Бот показывает список услуг, принимает заявки (имя, телефон, услуга) и сохраняет их в базу данных. Вся бизнес-логика вынесена в отдельные сервисы для удобства поддержки и масштабирования.

## Основные возможности
- Просмотр услуг с подробным описанием
- Кликабельный выбор услуги через inline-кнопки
- Оформление заявки (имя, телефон)
- Удобная админка для управления услугами и заявками
- Гибкая архитектура: бизнес-логика вынесена в отдельные сервисы

## Технологии
- Python 3.10+
- Django 5.x
- python-telegram-bot 20.x
- python-dotenv (для переменных окружения)

## Переменные окружения и .env

Для хранения токена Telegram-бота используется переменная окружения `TELEGRAM_BOT_TOKEN`. Рекомендуется хранить её в файле `.env` в корне проекта:

```
TELEGRAM_BOT_TOKEN=ваш_токен_бота
```

Файл `.env` автоматически подхватывается при запуске бота благодаря библиотеке `python-dotenv`.

## Быстрый старт

1. **Клонируйте репозиторий и установите зависимости:**
   ```bash
   pip install -r requirements.txt
   ```

2. **Примените миграции и создайте суперпользователя:**
   ```bash
   python manage.py migrate
   python manage.py createsuperuser
   ```

3. **Добавьте услуги через админку:**
   - Запустите сервер: `python manage.py runserver`
   - Перейдите в админку: http://127.0.0.1:8000/admin
   - Добавьте услуги и их описания

4. **Создайте файл `.env` и укажите токен Telegram-бота:**
   ```env
   TELEGRAM_BOT_TOKEN=ваш_токен_бота
   ```

5. **Запустите бота:**
   ```bash
   python manage.py runbot
   ```

## Структура проекта

```
services/
  service_logic.py   # Бизнес-логика для услуг
applications/
  service_logic.py   # Бизнес-логика для заявок
bot/
  management/commands/runbot.py  # Основной скрипт Telegram-бота
```
